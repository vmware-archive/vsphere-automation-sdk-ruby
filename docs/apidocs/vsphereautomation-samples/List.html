<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: List
  
    &mdash; VMware vSphere Automation Ruby Samples
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!List.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (L)</a> &raquo;
    
    
    <span class="title">List</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: List
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Invocable.html" title="Invocable (class)">Invocable</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Invocable.html" title="Invocable (class)">Invocable</a></span></li>
          
            <li class="next">List</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">/build/mts/release/bora-4571906/vcsuite-sdks/ruby/samples/lib/sample/framework/lookup_service_helper.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Encapsulates the list operation of the lookup service.
</p>


  </div>
</div>
<div class="tags">
  

</div>





  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Invocable.html" title="Invocable (class)">Invocable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Invocable.html#client-instance_method" title="Invocable#client (method)">#client</a></span>, <span class='object_link'><a href="Invocable.html#operation-instance_method" title="Invocable#operation (method)">#operation</a></span>, <span class='object_link'><a href="Invocable.html#response-instance_method" title="Invocable#response (method)">#response</a></span></p>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#body_xml-instance_method" title="#body_xml (instance method)">- (Object) <strong>body_xml</strong>(body) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
ServiceRegistration                                                        
com.vmware.cis                         cs.identity                         
wsTrust                         com.vmware.cis.cs.identity.sso.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_instance_names-instance_method" title="#get_instance_names (instance method)">- (Object) <strong>get_instance_names</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_service_endpoints-instance_method" title="#get_service_endpoints (instance method)">- (Hash) <strong>get_service_endpoints</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Gets the service endpoint information from the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (List) <strong>initialize</strong>(client, product, service, protocol, endpoint) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Constructs a new instance.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Invocable.html" title="Invocable (class)">Invocable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Invocable.html#invoke-instance_method" title="Invocable#invoke (method)">#invoke</a></span>, <span class='object_link'><a href="Invocable.html#request_xml-instance_method" title="Invocable#request_xml (method)">#request_xml</a></span>, <span class='object_link'><a href="Invocable.html#response_hash-instance_method" title="Invocable#response_hash (method)">#response_hash</a></span>, <span class='object_link'><a href="Invocable.html#response_xml-instance_method" title="Invocable#response_xml (method)">#response_xml</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="List (class)">List</a></span></tt>) <strong>initialize</strong>(client, product, service, protocol, endpoint) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>
Constructs a new instance.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


263
264
265
266
267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/build/mts/release/bora-4571906/vcsuite-sdks/ruby/samples/lib/sample/framework/lookup_service_helper.rb', line 263</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_client'>client</span><span class='comma'>,</span> <span class='id identifier rubyid_product'>product</span><span class='comma'>,</span> <span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='id identifier rubyid_protocol'>protocol</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='symbol'>:list</span><span class='comma'>,</span> <span class='id identifier rubyid_client'>client</span><span class='rparen'>)</span>

    <span class='ivar'>@product</span> <span class='op'>=</span> <span class='id identifier rubyid_product'>product</span>
    <span class='ivar'>@service</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span>
    <span class='ivar'>@protocol</span> <span class='op'>=</span> <span class='id identifier rubyid_protocol'>protocol</span>
    <span class='ivar'>@endpoint</span> <span class='op'>=</span> <span class='id identifier rubyid_endpoint'>endpoint</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="body_xml-instance_method">
  
    - (<tt>Object</tt>) <strong>body_xml</strong>(body) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>
<S:Envelope xmlns:S=&#8220;<a
href="http://schemas.xmlsoap.org/soap/envelope">schemas.xmlsoap.org/soap/envelope</a>/&#8221;>
</p>
<pre class="code ruby"><code class="ruby">
        &lt;S:Body&gt;
            &lt;List xmlns=&quot;urn:lookup&quot;&gt;
                &lt;_this type=&quot;LookupServiceRegistration&quot;&gt;ServiceRegistration&lt;/_this&gt;
                &lt;filterCriteria&gt;
                    &lt;serviceType&gt;
                        &lt;product&gt;com.vmware.cis&lt;/product&gt;
                        &lt;type&gt;cs.identity&lt;/type&gt;
                    &lt;/serviceType&gt;
                    &lt;endpointType&gt;
                        &lt;protocol&gt;wsTrust&lt;/protocol&gt;
                        &lt;type&gt;com.vmware.cis.cs.identity.sso&lt;/type&gt;
                    &lt;/endpointType&gt;
                &lt;/filterCriteria&gt;
            &lt;/List&gt;
        &lt;/S:Body&gt;
    &lt;/S:Envelope&gt;</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/build/mts/release/bora-4571906/vcsuite-sdks/ruby/samples/lib/sample/framework/lookup_service_helper.rb', line 291</span>

<span class='kw'>def</span> <span class='id identifier rubyid_body_xml'>body_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>urn:lookup</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_list'>list</span><span class='op'>|</span>
        <span class='comment'>#TODO: use the copy that was retrieved on startup?
</span>        <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_this</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LookupServiceRegistration</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_this'>this</span><span class='op'>|</span>
            <span class='id identifier rubyid_this'>this</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ServiceRegistration</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>filterCriteria</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_criteria'>criteria</span><span class='op'>|</span>
            <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>serviceType</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_stype'>stype</span><span class='op'>|</span>
                <span class='id identifier rubyid_stype'>stype</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>product</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
                    <span class='id identifier rubyid_p'>p</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@product</span>
                <span class='kw'>end</span>
                <span class='id identifier rubyid_stype'>stype</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
                    <span class='id identifier rubyid_t'>t</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@service</span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endpointType</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_etype'>etype</span><span class='op'>|</span>
                <span class='id identifier rubyid_etype'>etype</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>protocol</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
                    <span class='id identifier rubyid_p'>p</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@protocol</span>
                <span class='kw'>end</span>
                <span class='id identifier rubyid_etype'>etype</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
                    <span class='id identifier rubyid_t'>t</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@endpoint</span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_instance_names-instance_method">
  
    - (<tt>Object</tt>) <strong>get_instance_names</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/build/mts/release/bora-4571906/vcsuite-sdks/ruby/samples/lib/sample/framework/lookup_service_helper.rb', line 369</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_instance_names'>get_instance_names</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='embdoc_beg'>=begin
</span><span class='embdoc'>    &lt;serviceAttributes&gt;
</span><span class='embdoc'>        &lt;key&gt;com.vmware.cis.cm.GroupInternalId&lt;/key&gt;
</span><span class='embdoc'>        &lt;value&gt;com.vmware.vim.vcenter&lt;/value&gt;
</span><span class='embdoc'>    &lt;/serviceAttributes&gt;
</span><span class='embdoc'>    &lt;serviceAttributes&gt;
</span><span class='embdoc'>        &lt;key&gt;com.vmware.cis.cm.ControlScript&lt;/key&gt;
</span><span class='embdoc'>        &lt;value&gt;vmware-vpxd.sh&lt;/value&gt;
</span><span class='embdoc'>    &lt;/serviceAttributes&gt;
</span><span class='embdoc'>    &lt;serviceAttributes&gt;
</span><span class='embdoc'>        &lt;key&gt;com.vmware.cis.cm.HostId&lt;/key&gt;
</span><span class='embdoc'>        &lt;value&gt;906477a1-24c6-4d48-9e99-55ef962878f7&lt;/value&gt;
</span><span class='embdoc'>    &lt;/serviceAttributes&gt;
</span><span class='embdoc'>    &lt;serviceAttributes&gt;
</span><span class='embdoc'>        &lt;key&gt;com.vmware.vim.vcenter.instanceName&lt;/key&gt;
</span><span class='embdoc'>        &lt;value&gt;pa-rdinfra3-vm7-dhcp5583.eng.vmware.com&lt;/value&gt;
</span><span class='embdoc'>    &lt;/serviceAttributes&gt;
</span><span class='embdoc_end'>=end
</span>    <span class='const'>Sample</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List: response_hash = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_response_hash'>response_hash</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_return_val'>return_val</span> <span class='op'>=</span> <span class='id identifier rubyid_response_hash'>response_hash</span><span class='lbracket'>[</span><span class='symbol'>:list_response</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:returnval</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_return_val'>return_val</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_return_val'>return_val</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_return_val'>return_val</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_return_val'>return_val</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
        <span class='id identifier rubyid_node_id'>node_id</span> <span class='op'>=</span> <span class='id identifier rubyid_entry'>entry</span><span class='lbracket'>[</span><span class='symbol'>:node_id</span><span class='rbracket'>]</span>
        <span class='comment'>#TODO: is it possible there be 0 or 1 attrs?  if so, deal with it.
</span>        <span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='id identifier rubyid_entry'>entry</span><span class='lbracket'>[</span><span class='symbol'>:service_attributes</span><span class='rbracket'>]</span>
        <span class='const'>Sample</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List: attrs=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attrs'>attrs</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_attr'>attr</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_attr'>attr</span><span class='lbracket'>[</span><span class='symbol'>:key</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>com.vmware.vim.vcenter.instanceName</span><span class='tstring_end'>'</span></span>
                <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_attr'>attr</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_node_id'>node_id</span>
            <span class='kw'>end</span>
        <span class='rbrace'>}</span>
    <span class='rbrace'>}</span>
    <span class='const'>Sample</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List: result = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_service_endpoints-instance_method">
  
    - (<tt>Hash</tt>) <strong>get_service_endpoints</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>
Gets the service endpoint information from the response. Support for MxN.
</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
a hash where the key is NodeId and the Value is a Service URL
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/build/mts/release/bora-4571906/vcsuite-sdks/ruby/samples/lib/sample/framework/lookup_service_helper.rb', line 322</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_service_endpoints'>get_service_endpoints</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='embdoc_beg'>=begin
</span><span class='embdoc'>&lt;ListResponse xmlns=&quot;urn:lookup&quot;&gt;
</span><span class='embdoc'>    &lt;returnval&gt;
</span><span class='embdoc'>        &lt;serviceVersion&gt;2.0&lt;/serviceVersion&gt;
</span><span class='embdoc'>        &lt;vendorNameResourceKey/&gt;
</span><span class='embdoc'>        &lt;vendorNameDefault/&gt;
</span><span class='embdoc'>        &lt;vendorProductInfoResourceKey/&gt;
</span><span class='embdoc'>        &lt;vendorProductInfoDefault/&gt;
</span><span class='embdoc'>        &lt;serviceEndpoints&gt;
</span><span class='embdoc'>            &lt;url&gt;https://pa-rdinfra3-vm7-dhcp5583.eng.vmware.com/sts/STSService/vsphere.local&lt;/url&gt;
</span><span class='embdoc'>            &lt;endpointType&gt;
</span><span class='embdoc'>                &lt;protocol&gt;wsTrust&lt;/protocol&gt;
</span><span class='embdoc'>                &lt;type&gt;com.vmware.cis.cs.identity.sso&lt;/type&gt;
</span><span class='embdoc'>            &lt;/endpointType&gt;
</span><span class='embdoc'>            &lt;sslTrust&gt;
</span><span class='embdoc'>                ...
</span><span class='embdoc'>            &lt;/sslTrust&gt;
</span><span class='embdoc'>        &lt;/serviceEndpoints&gt;
</span><span class='embdoc'>        &lt;serviceNameResourceKey/&gt;
</span><span class='embdoc'>        &lt;serviceNameDefault/&gt;
</span><span class='embdoc'>        &lt;serviceDescriptionResourceKey/&gt;
</span><span class='embdoc'>        &lt;serviceDescriptionDefault/&gt;
</span><span class='embdoc'>        &lt;ownerId&gt;pa-rdinfra3-vm7-dhcp5583.eng.vmware.com@vsphere.local&lt;/ownerId&gt;
</span><span class='embdoc'>        &lt;serviceType&gt;
</span><span class='embdoc'>            &lt;product&gt;com.vmware.cis&lt;/product&gt;
</span><span class='embdoc'>            &lt;type&gt;cs.identity&lt;/type&gt;
</span><span class='embdoc'>        &lt;/serviceType&gt;
</span><span class='embdoc'>        &lt;nodeId/&gt;
</span><span class='embdoc'>        &lt;serviceId&gt;6a8a5058-5d3d-4d42-bb5e-383b91c8732e&lt;/serviceId&gt;
</span><span class='embdoc'>        &lt;siteId&gt;default-first-site&lt;/siteId&gt;
</span><span class='embdoc'>    &lt;/returnval&gt;
</span><span class='embdoc'>&lt;/ListResponse&gt;
</span><span class='embdoc_end'>=end
</span>    <span class='const'>Sample</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List: response_hash = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_response_hash'>response_hash</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_return_val'>return_val</span> <span class='op'>=</span> <span class='id identifier rubyid_response_hash'>response_hash</span><span class='lbracket'>[</span><span class='symbol'>:list_response</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:returnval</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_return_val'>return_val</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_return_val'>return_val</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_return_val'>return_val</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_return_val'>return_val</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
        <span class='comment'>#FYI: the node_id is sometimes null, so use the service_id in this case
</span>        <span class='id identifier rubyid_node_id'>node_id</span> <span class='op'>=</span> <span class='id identifier rubyid_entry'>entry</span><span class='lbracket'>[</span><span class='symbol'>:node_id</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_entry'>entry</span><span class='lbracket'>[</span><span class='symbol'>:service_id</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_node_id'>node_id</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_entry'>entry</span><span class='lbracket'>[</span><span class='symbol'>:service_endpoints</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:url</span><span class='rbracket'>]</span>
    <span class='rbrace'>}</span>
    <span class='const'>Sample</span><span class='period'>.</span><span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List: result = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Copyright &copy; 2014-2016 VMware Inc.  All rights reserved.
  <br>
  Version 6.5 RC
  <br>
  Generated on Fri Oct 28 14:08:44 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.2).
</div>

  </body>
</html>